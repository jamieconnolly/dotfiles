#compdef c

local curcontext="$curcontext" state line ret=1 projects

_arguments -C '1: :->projects' && ret=0

case $state in
  projects)
    projects=($(find $PROJECTS_HOME -depth 2 -type d | sed "s:^${PROJECTS_HOME}\\(/${GITHUB_USER}\\)\{0,1\}/\{0,1\}::g"))
    _describe -t projects 'projects' projects && ret=0
    ;;
esac

return ret
